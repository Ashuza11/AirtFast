{% macro render_messages() %}
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="messages-container" style="position: fixed; bottom: 20px; right: 20px; z-index: 1050; width: 350px;">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        <span class="alert-inner--icon">
                            {# Updated icons for Font Awesome 5 Free #}
                            {% if category == 'success' %}
                                <i class="fas fa-check-circle"></i> {# Checkmark in a circle #}
                            {% elif category == 'danger' %}
                                <i class="fas fa-exclamation-triangle"></i> {# Warning triangle for errors #}
                            {% elif category == 'warning' %}
                                <i class="fas fa-exclamation-circle"></i> {# Circle with exclamation for warning #}
                            {% elif category == 'info' %}
                                <i class="fas fa-info-circle"></i> {# Circle with 'i' for info #}
                            {% elif category == 'primary' %}
                                <i class="fas fa-star"></i> {# A generic star, or fa-lightbulb #}
                            {% elif category == 'secondary' %}
                                <i class="fas fa-ellipsis-h"></i> {# Horizontal ellipsis for generic secondary #}
                            {% else %} 
                                <i class="fas fa-bell"></i> {# A generic bell #}
                            {% endif %}
                        </span>
                        <span class="alert-inner--text"><strong>{{ category | capitalize }}!</strong> {{ message }}</span>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}
{% endmacro %}